# ClearWay
## Тестовое задание

Необходимо создать приложение для просмотра документов и добавления аннотаций.
Детали:
* Пользователь открывает документ по ссылке, в которой есть id документа.
* Приложение получает информацию о документе по API, в которой указаны
страницы со ссылками на изображения (смотрите приложенный json, его
используйте как мокап). Изображения - это страницы документа, пользователь
имеет возможность скроллить документ вниз для просмотра всех страниц.
* Документ может быть увеличен или уменьшен (zoom) кнопками “+” и “-”.
* Пользователь может добавлять аннотации в виде текста или картинки (картинки
можно хранить на клиенте, сервер не требуется).
* Добавленные аннотации можно перемещать и удалять.
* Должна быть кнопка “Сохранить”, при нажатии на которую в консоль выводится
информация о документе с добавленными аннотациями.
* Дизайн произвольный, не учитывается при рассмотрении работы, хотя
плавность интерфейса будет плюсом.

Ожидаемый результат:
* Предоставьте исходный код
* Скриншоты реализации
* Описание решения, плюсы и минусы реализации, известные проблемы и
способы решения

Суть задания в том, чтобы показать умение писать код, выполнять все пункты в
идеальном виде не обязательно, если у вас недостаточно на это времени, но будет
плюсом.

---

Реализовано на Angular v19  
Просмотреть документ `/documents/{id}`
Добавление аннотации происходит по клику на странице.

Использованные библиотеки:
* `Boostrap` Использовалось как основа для верстки.
* `PrimeNg`  Использовался компонент для загрузки изображений и toast для вывода сообщений
* `Angular Material Cdk` использовался cdkDrag для перетаскивания аннотаций

Слабые места:
1. Колличество страниц. Нет ограничений, значит могут быть трудности с отображением на большом списке. Нужен виртуальный скролл, отображать только видимую часть.
2. Колличество аннотаций. Пока нет ограничений, на большом колличестве могут возникнуть проблемы с отображением.
3. Массштабирование страницы. В данной реализации нет масштабирования аннотаций вместе со страницей. На маленьком масштабе страницы, если много аннотаций, они могут съехаться в кучу.
4. Аннотации с картинками имеют фиксированный размер. Возможно можно добавить изменение размера с помощью мышки.
5. Размер шрифта аннотаций так же фиксированный для любого масштаба страницы документа. Можно добавить изменение размера с помощью мышки.
6. Цвет кнопки удаления аннотации не видно на темном фоне изображений. Нужно сделать фиксированный белый цвет бэкграунда.

Из плюсов:
1. Все работает
2. Анотации сохраняют свое положение пропорционанльно масштабированию страницы
3. Добавлено сохранение аннотаций в local storage. После перезагрузки страницы они не исчезают.

---
# What's new

Исправления:
1. Добавлена реализация перетаскивания аннотации без использования `cdkDrag`
2. Добавление аннотации теперь происходит по дабл клику левой кнопкой мыши. Было много ложных срабатываний при одинарном клике.
3. Перед перетаскиванием есть задержка удержания левой кнопки мыши нажатой, чтобы избежать ложного срабатывания перетаскивания при простом клике по аннотации.
